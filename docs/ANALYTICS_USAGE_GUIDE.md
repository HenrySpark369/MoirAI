# GuÃ­a de Uso - Analytics Dashboard

## ğŸ“Š AnÃ¡lisis de Visitas y PÃ¡ginas Vistas

### UbicaciÃ³n
Admin Dashboard â†’ SecciÃ³n "AnÃ¡lisis de Visitas y PÃ¡ginas Vistas" (despuÃ©s de los KPI cards principales)

---

## ğŸ”¢ Tarjetas de MÃ©tricas (KPI Cards)

### 6 MÃ©tricas Disponibles:

| MÃ©trica | Valor | DescripciÃ³n |
|---------|-------|------------|
| **Visitas Totales** | 248,567 | Total histÃ³rico de visitas (promedio 8,285/dÃ­a) |
| **Visitas del Mes** | 45,230 | Visitas en el mes actual (promedio 1,508/dÃ­a) |
| **Visitas de la Semana** | 10,847 | Visitas en la semana actual (promedio 1,550/dÃ­a) |
| **Visitas de Hoy** | 1,642 | Visitas en el dÃ­a actual (428 en Ãºltimas 2h) |
| **PÃ¡ginas Vistas** | 542,891 | Total de pÃ¡ginas vistas (2.18 promedio/visita) |
| **Usuarios Ãšnicos** | 89,423 | Usuarios Ãºnicos (2,341 nuevos esta semana) |

**CaracterÃ­sticas:**
- âœ… Iconos descriptivos para cada mÃ©trica
- âœ… Indicadores de tendencia (% de cambio)
- âœ… EstadÃ­sticas contextuales
- âœ… Hover effects con animaciones

---

## ğŸ“ˆ Histograma de Visitas por Hora

### Controles:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Histograma de Visitas por Hora    [Dropdown]â”‚
â”‚                                             â”‚
â”‚   â”Œâ”€ Hoy (seleccionar)                    â”‚
â”‚   â”œâ”€ Esta Semana (default)                â”‚
â”‚   â””â”€ Este Mes                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tres Vistas Disponibles:

#### 1ï¸âƒ£ **Hoy** (24 datos horarios)
- Datos: Cada hora del dÃ­a (0:00 - 23:00)
- Rango: 28 - 182 visitas/hora
- Uso: Ver patrones de actividad diaria

#### 2ï¸âƒ£ **Esta Semana** (7 datos diarios)
- Datos: Lunes a Domingo
- Rango: 1,147 - 2,150 visitas/dÃ­a
- Uso: Analizar tendencias semanales

#### 3ï¸âƒ£ **Este Mes** (30 datos diarios)
- Datos: Primer al Ãºltimo dÃ­a del mes
- Rango: 950 - 2,280 visitas/dÃ­a
- Uso: Evaluar el desempeÃ±o mensual

### CaracterÃ­sticas del GrÃ¡fico:

- **Tipo**: GrÃ¡fico de barras (Bar Chart)
- **Colores DinÃ¡micos**:
  - Rojo oscuro (#730f33) = Alta actividad
  - Rojo claro = Actividad media
  - Dorado (#bc935b) = Baja actividad
- **Interactividad**:
  - Hover: Muestra tooltip con nÃºmero exacto
  - Cambio de timeframe: ActualizaciÃ³n automÃ¡tica
  - Responsivo: Se adapta a cualquier pantalla

---

## ğŸ” PÃ¡ginas MÃ¡s Visitadas

### Ranking Top 5:

```
RANK | PÃGINA                  | VISTAS   | % TRÃFICO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
 1   | PÃ¡gina de Inicio (/)    | 45,230   | 18.2%  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 2   | Oportunidades           | 38,145   | 15.3%  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 3   | Empresas                | 32,456   | 13.1%  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 4   | Estudiantes             | 28,934   | 11.6%  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 5   | Dashboard               | 21,567   | 8.7%   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
```

### InformaciÃ³n por PÃ¡gina:

Cada pÃ¡gina muestra:
- ğŸ† **NÃºmero de Rank** (con color cÃ³digo)
- ğŸ“„ **Nombre de la PÃ¡gina** + Ruta (/ruta)
- ğŸ‘ï¸ **NÃºmero Total de Vistas**
- ğŸ“Š **Porcentaje del TrÃ¡fico Total**
- ğŸ“ˆ **Barra de Progreso Visual** (comparativa)

### CaracterÃ­sticas Interactivas:

- âœ¨ Hover effect: Cambio de fondo
- ğŸ¨ Gradiente en barras (proporcional al valor)
- ğŸ“± Responsive: Se adapta a mÃ³viles
- âš™ï¸ FÃ¡cilmente actualizable con datos reales

---

## ğŸ’¡ Casos de Uso

### ğŸ“Œ Caso 1: Monitoreo de Actividad Diaria
1. Seleccionar **"Hoy"** en el dropdown
2. Observar patrones horarios (picos/valles)
3. Identificar horas pico de actividad

### ğŸ“Œ Caso 2: AnÃ¡lisis de Tendencias Semanales
1. Seleccionar **"Esta Semana"**
2. Comparar visitas por dÃ­a
3. Detectar dÃ­as de mayor/menor actividad

### ğŸ“Œ Caso 3: EvaluaciÃ³n de DesempeÃ±o Mensual
1. Seleccionar **"Este Mes"**
2. Ver evoluciÃ³n del mes completo
3. Calcular crecimiento o declive

### ğŸ“Œ Caso 4: OptimizaciÃ³n de PÃ¡ginas
1. Revisar **"PÃ¡ginas MÃ¡s Visitadas"**
2. Identificar pÃ¡ginas con bajo trÃ¡fico
3. Priorizar mejoras en landing page (#1)

---

## âš™ï¸ IntegraciÃ³n con Backend (PrÃ³ximos Pasos)

### Endpoint Recomendado:

```bash
GET /api/analytics/visits?timeframe=week&start_date=2024-01-01&end_date=2024-01-31
```

### Respuesta JSON Esperada:

```json
{
  "timeframe": "week",
  "data": [
    {"label": "Lun", "visits": 1450},
    {"label": "Mar", "visits": 1680},
    {"label": "MiÃ©", "visits": 1820},
    {"label": "Jue", "visits": 1950},
    {"label": "Vie", "visits": 2150},
    {"label": "Sab", "visits": 1620},
    {"label": "Dom", "visits": 1147}
  ],
  "total_visits": 10847,
  "average_daily": 1550
}
```

### Actualizar `charts.js`:

```javascript
// Reemplazar getChartData() con llamada a API
async getChartData(timeframe) {
    const response = await fetch(`/api/analytics/visits?timeframe=${timeframe}`);
    const data = await response.json();
    return {
        labels: data.data.map(d => d.label),
        datasets: [{...}]
    };
}
```

---

## ğŸ¨ PersonalizaciÃ³n

### Cambiar Colores:

En `charts.js`:

```javascript
// Modificar getBarColors() para cambiar gradientes
backgroundColor: 'rgba(115, 15, 51, 0.9)' // Cambiar color RGB
```

### Cambiar NÃºmero de Datos:

En `getChartData()` mÃ©todo:

```javascript
// Para 15 dÃ­as en lugar de 30
labels = Array.from({length: 15}, (_, i) => (i + 1) + ' de mes');
```

### Agregar Nuevas MÃ©tricas:

1. Crear nueva tarjeta KPI en `dashboard.html`
2. Copiar estructura existente
3. Actualizar estilos en `admin-styles.css`

---

## ğŸ› Troubleshooting

### âŒ GrÃ¡fico no aparece

**SoluciÃ³n:**
- Verificar que Chart.js CDN estÃ© cargado
- Abrir DevTools (F12) â†’ Console
- Verificar que `typeof Chart !== 'undefined'`

### âŒ Dropdown de timeframe no funciona

**SoluciÃ³n:**
- Verificar que elemento `#visitsTimeframe` existe en HTML
- Verificar JavaScript console por errores
- Recargar pÃ¡gina

### âŒ Datos de grÃ¡fico incorrectos

**SoluciÃ³n:**
- Editar datos en `charts.js`
- MÃ©todo: `getChartData(timeframe)`
- Recargar pÃ¡gina (Ctrl+F5)

---

## ğŸ“± Responsive Behavior

### Desktop (1920px+)
- âœ… Todos los elementos a pantalla completa
- âœ… GrÃ¡fico con mÃ¡ximo ancho

### Tablet (768px - 1024px)
- âœ… Grid de 1 columna
- âœ… Dropdown en ancho completo
- âœ… PÃ¡ginas mÃ¡s visitadas optimizadas

### Mobile (< 768px)
- âœ… Stack vertical de tarjetas
- âœ… Barra de progreso 100% ancho
- âœ… Rank badges mÃ¡s pequeÃ±os
- âœ… GrÃ¡fico responsivo

---

## ğŸ“‹ Checklist de Funcionalidad

- [x] Histograma con timeframe selector
- [x] Tres vistas (hoy/semana/mes)
- [x] PÃ¡ginas mÃ¡s visitadas ranking
- [x] CÃ³digo de colores por rendimiento
- [x] Tooltips interactivos
- [x] Responsive design
- [x] Datos de ejemplo
- [x] IntegraciÃ³n Chart.js

---

## ğŸ”— Recursos Relacionados

- **Archivo HTML**: `app/frontend/templates/admin/dashboard.html`
- **Estilos CSS**: `app/frontend/static/css/admin-styles.css`
- **Scripts JS**: `app/frontend/static/js/charts.js`
- **DocumentaciÃ³n**: `docs/ANALYTICS_DASHBOARD_SUMMARY.md`

---

**Ãšltima actualizaciÃ³n**: 12 de noviembre, 2025  
**VersiÃ³n**: 1.0  
**Estado**: âœ… Completado

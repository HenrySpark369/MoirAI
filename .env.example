# Configuración de la aplicación MoirAI
# Copie este archivo a .env y modifique los valores según su entorno
# ⚠️ IMPORTANTE: Este archivo se genera automáticamente con ./setup_secure.sh

# Configuración de la aplicación
PROJECT_NAME="MoirAI - UNRC Job Matching Platform"
VERSION="1.0.0"
API_V1_STR="/api/v1"

# Base de datos
# Para desarrollo (SQLite)
# DATABASE_URL="sqlite:///./moirai.db"
# Para producción (PostgreSQL)
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/moirai"

# Seguridad (OBLIGATORIO cambiar en producción)
# GENERAR SECRET_KEY segura con: python -c "import secrets; print(secrets.token_urlsafe(32))"
# O usar el script: ./setup_secure.sh (automático)
SECRET_KEY="change_this_to_a_secure_random_key"
ACCESS_TOKEN_EXPIRE_MINUTES=30
ALGORITHM="HS256"

# Encriptación de campos sensibles (LFPDPPP compliance)
# GENERAR ENCRYPTION_KEY segura con: python -c "import secrets; from base64 import urlsafe_b64encode; print(urlsafe_b64encode(secrets.token_bytes(32)).decode())"
# O usar el script: ./setup_secure.sh (automático)
ENCRYPTION_KEY="change_this_encryption_key"

# CORS - URLs permitidas para el frontend
BACKEND_CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080", "http://localhost:5173"]

# Proveedores de trabajos externos (opcional)
# JSearch API (RapidAPI)
JSEARCH_API_KEY=""
JSEARCH_HOST="jsearch.p.rapidapi.com"

# Configuración de archivos
MAX_FILE_SIZE=10485760  # 10MB en bytes
ALLOWED_FILE_TYPES=[".pdf", ".docx", ".txt"]

# Configuración NLP
SPACY_MODEL="en_core_web_sm"
MAX_SKILLS_EXTRACTED=30
MAX_SOFT_SKILLS_EXTRACTED=20
MAX_PROJECTS_EXTRACTED=20

# Configuración de Vectorización de Texto
# Límites de seguridad para proteger contra DoS
NLP_MAX_TEXT_LENGTH=50000
NLP_MAX_TOKEN_LENGTH=100
NLP_MAX_VOCAB_SIZE=5000
NLP_MAX_NGRAM_SIZE=3
NLP_MIN_TOKEN_LENGTH=2

# Privacidad y cumplimiento LFPDPPP
DATA_RETENTION_DAYS=365
REQUIRE_CONSENT=true
ENABLE_AUDIT_LOGGING=true

# Paginación
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# API Keys para desarrollo (CAMBIAR en producción por OAuth2/JWT)
# Genere claves seguras para cada rol
ADMIN_API_KEYS=["admin-key-123-change-me"]
COMPANY_API_KEYS=["company-key-456-change-me"]
STUDENT_API_KEYS=["student-key-789-change-me"]

# Configuración de Usuario Admin (SEGURIDAD)
# ⚠️ IMPORTANTE: Cambiar estos valores en producción
# Los valores vacíos desactivan la creación automática del admin
ADMIN_DEFAULT_NAME="Admin Sistema"
ADMIN_DEFAULT_EMAIL="admin@moirai.local"
ADMIN_DEFAULT_PASSWORD="ChangeMeInProduction!"
# Si INIT_DEFAULT_ADMIN=true, la app intentará crear el admin en el startup
# Luego cambiar a false para evitar recrearlo
INIT_DEFAULT_ADMIN=false

# Configuración de logging
LOG_LEVEL="INFO"
LOG_FORMAT="json"  # o "text" para desarrollo

# Configuración de Redis (opcional, para cache futuro)
# REDIS_URL="redis://localhost:6379/0"

# Configuración de email (para notificaciones futuras)
# SMTP_HOST=""
# SMTP_PORT=587
# SMTP_USER=""
# SMTP_PASSWORD=""
# FROM_EMAIL="noreply@unrc.edu.mx"

<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Empresas colaboradoras en MoirAI">
    <title>Empresas - MoirAI</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/dashboard.css">
    <link rel="stylesheet" href="/static/css/notifications.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Navegación - Generada dinámicamente por navbar-manager.js -->
    <nav class="navbar" id="navbar-container">
        <!-- Contenido insertado por JavaScript -->
    </nav>

    <!-- Header Section -->
    <section class="listing-header">
        <div class="listing-header-content">
            <h1>Empresas Colaboradoras</h1>
            <p>Descubre las empresas que buscan talento en nuestra plataforma</p>
            <div class="listing-search-bar">
                <input type="text" id="searchCompanies" placeholder="Busca una empresa..." class="search-input">
                <button class="search-btn"><i class="fas fa-search"></i></button>
            </div>
        </div>
    </section>

    <div class="listing-container">
        <!-- Sidebar con Filtros -->
        <aside class="listing-sidebar">
            <div class="filter-section">
                <h3 class="filter-title">
                    <i class="fas fa-filter"></i> Filtros
                    <button class="clear-filters-btn" onclick="clearFilters()">Limpiar</button>
                </h3>

                <!-- Sector -->
                <div class="filter-group">
                    <label class="filter-label">
                        <i class="fas fa-industry"></i> Sector
                    </label>
                    <select id="sectorFilter" class="filter-select">
                        <option value="">Todos los sectores</option>
                        <option value="tecnologia">Tecnología</option>
                        <option value="finanzas">Finanzas</option>
                        <option value="telecom">Telecomunicaciones</option>
                        <option value="retail">Retail</option>
                        <option value="energia">Energía</option>
                    </select>
                </div>

                <!-- Tamaño de empresa -->
                <div class="filter-group">
                    <label class="filter-label">
                        <i class="fas fa-users"></i> Tamaño
                    </label>
                    <div class="filter-checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" value="startup" class="size-filter"> Startup
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="pyme" class="size-filter"> PyME
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="grande" class="size-filter"> Empresa Grande
                        </label>
                    </div>
                </div>

                <!-- Ubicación -->
                <div class="filter-group">
                    <label class="filter-label">
                        <i class="fas fa-map-marker-alt"></i> Ubicación
                    </label>
                    <select id="locationFilter" class="filter-select">
                        <option value="">Todas las ciudades</option>
                        <option value="córdoba">Córdoba</option>
                        <option value="buenos-aires">Buenos Aires</option>
                        <option value="mendoza">Mendoza</option>
                        <option value="rosario">Rosario</option>
                    </select>
                </div>

                <!-- Acreditación -->
                <div class="filter-group">
                    <label class="filter-label">
                        <i class="fas fa-certificate"></i> Acreditación
                    </label>
                    <div class="filter-checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" value="verified" class="accred-filter"> Verificada
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="iso" class="accred-filter"> Certificada ISO
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="top" class="accred-filter"> Top Empleadora
                        </label>
                    </div>
                </div>

                <!-- Oportunidades abiertas -->
                <div class="filter-group">
                    <label class="filter-label">
                        <i class="fas fa-briefcase"></i> Vacantes
                    </label>
                    <div class="filter-checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" value="has-jobs" class="jobs-filter"> Con vacantes abiertas
                        </label>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="listing-main">
            <!-- Sorting and View Options -->
            <div class="listing-controls">
                <div class="results-info">
                    <span id="companyCount">8</span> empresas encontradas
                </div>
                <div class="view-toggle">
                    <button class="view-btn active" id="gridViewBtn" onclick="setViewMode('grid')">
                        <i class="fas fa-th"></i>
                    </button>
                    <button class="view-btn" id="listViewBtn" onclick="setViewMode('list')">
                        <i class="fas fa-list"></i>
                    </button>
                </div>
            </div>

            <!-- Company Cards Grid -->
            <div class="companies-container grid-view" id="companiesContainer">
                <!-- Company cards populated by JavaScript -->
            </div>

            <!-- Pagination -->
            <div class="pagination">
                <button class="pagination-btn" onclick="previousPage()">
                    <i class="fas fa-chevron-left"></i> Anterior
                </button>
                <div class="pagination-numbers" id="paginationNumbers">
                    <!-- Populated by JavaScript -->
                </div>
                <button class="pagination-btn" onclick="nextPage()">
                    Siguiente <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </main>
    </div>

    <!-- Company Details Modal -->
    <div id="companyModal" class="modal">
        <div class="modal-content company-modal-content">
            <button class="modal-close" onclick="closeCompanyModal()">
                <i class="fas fa-times"></i>
            </button>

            <div class="modal-body">
                <!-- Header -->
                <div class="company-modal-header">
                    <div class="company-modal-logo">
                        <img id="modalCompanyLogo" src="" alt="Logo" class="company-logo">
                    </div>
                    <div class="company-modal-title">
                        <h1 id="modalCompanyName"></h1>
                        <p id="modalCompanyIndustry" class="company-industry"></p>
                        <div class="company-badges">
                            <span id="modalCompanyVerified" class="badge badge-verified" style="display:none;">
                                <i class="fas fa-check-circle"></i> Verificada
                            </span>
                            <span id="modalCompanySize" class="badge badge-size"></span>
                        </div>
                    </div>
                </div>

                <!-- Tabs -->
                <div class="company-modal-tabs">
                    <button class="tab-btn active" onclick="switchCompanyTab('overview')">
                        <i class="fas fa-info-circle"></i> Información
                    </button>
                    <button class="tab-btn" onclick="switchCompanyTab('jobs')">
                        <i class="fas fa-briefcase"></i> Empleos
                    </button>
                    <button class="tab-btn" onclick="switchCompanyTab('locations')">
                        <i class="fas fa-map-marker-alt"></i> Ubicaciones
                    </button>
                    <button class="tab-btn" onclick="switchCompanyTab('contact')">
                        <i class="fas fa-envelope"></i> Contacto
                    </button>
                </div>

                <!-- Tab Content -->
                <div class="company-modal-tabs-content">
                    <!-- Overview Tab -->
                    <div id="tab-overview" class="tab-content active">
                        <div class="info-section">
                            <h3>Información General</h3>
                            <div class="info-grid">
                                <div class="info-item">
                                    <label>Descripción</label>
                                    <p id="modalCompanyDescription"></p>
                                </div>
                                <div class="info-item">
                                    <label>Industria</label>
                                    <p id="infoIndustry"></p>
                                </div>
                                <div class="info-item">
                                    <label>Tamaño de Empresa</label>
                                    <p id="infoSize"></p>
                                </div>
                                <div class="info-item">
                                    <label>Empleados</label>
                                    <p id="infoEmployees"></p>
                                </div>
                                <div class="info-item">
                                    <label>Año de Fundación</label>
                                    <p id="infoFounded"></p>
                                </div>
                                <div class="info-item">
                                    <label>Sitio Web</label>
                                    <p><a id="infoWebsite" href="#" target="_blank" class="link"></a></p>
                                </div>
                            </div>
                        </div>

                        <div class="info-section">
                            <h3>Estadísticas</h3>
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <div class="stat-number" id="statOpenJobs">0</div>
                                    <div class="stat-label">Empleos Abiertos</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number" id="statRegistered">--</div>
                                    <div class="stat-label">Fecha Registro</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number" id="statProfile">0%</div>
                                    <div class="stat-label">Completitud Perfil</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Jobs Tab -->
                    <div id="tab-jobs" class="tab-content">
                        <div class="jobs-section">
                            <h3>Empleos Publicados</h3>
                            <div id="modalJobsList" class="jobs-list">
                                <!-- Jobs populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Locations Tab -->
                    <div id="tab-locations" class="tab-content">
                        <div class="locations-section">
                            <h3>Ubicaciones</h3>
                            <div id="modalLocationsList" class="locations-list">
                                <!-- Locations populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Contact Tab -->
                    <div id="tab-contact" class="tab-content">
                        <div class="contact-section">
                            <h3>Información de Contacto</h3>
                            <div class="contact-info">
                                <div class="contact-item">
                                    <label><i class="fas fa-envelope"></i> Email</label>
                                    <p id="modalContactEmail"></p>
                                </div>
                                <div class="contact-item">
                                    <label><i class="fas fa-phone"></i> Teléfono</label>
                                    <p id="modalContactPhone"></p>
                                </div>
                                <div class="contact-item">
                                    <label><i class="fas fa-map-marker-alt"></i> Dirección</label>
                                    <p id="modalContactAddress"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Footer Actions -->
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeCompanyModal()">
                        Cerrar
                    </button>
                    <button class="btn btn-primary" onclick="viewCompanyAllJobs()">
                        <i class="fas fa-briefcase"></i> Ver Todos los Empleos
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>MoirAI</h4>
                    <p>Plataforma inteligente de matching laboral para estudiantes de UNRC.</p>
                </div>
                <div class="footer-section">
                    <h4>Producto</h4>
                    <ul>
                        <li><a href="#">Características</a></li>
                        <li><a href="#">Precios</a></li>
                        <li><a href="#">Seguridad</a></li>
                        <li><a href="#">Actualizaciones</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Compañía</h4>
                    <ul>
                        <li><a href="#">Acerca de</a></li>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Careras</a></li>
                        <li><a href="#">Contacto</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="#">Privacidad</a></li>
                        <li><a href="#">Términos</a></li>
                        <li><a href="#">Cookies</a></li>
                        <li><a href="#">LFPDPPP</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 MoirAI. Todos los derechos reservados. Desarrollado con ❤️ por UNRC</p>
            </div>
        </div>
    </footer>

    <!-- Managers y servicios base -->
    <script src="/static/js/api-client.js"></script>
    <script src="/static/js/storage-manager.js"></script>
    <script src="/static/js/auth-manager.js"></script>
    <script src="/static/js/notification-manager.js"></script>
    <script src="/static/js/navbar-manager.js"></script>
    
    <!-- Script específico de la página -->
    <script src="/static/js/pages/companies-listing.js"></script>
</body>

</html>